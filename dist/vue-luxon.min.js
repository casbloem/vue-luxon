"use strict";var t=require("luxon"),e=function(){for(var t=arguments,o={},r=0,a=arguments.length;r<a;++r){var n=t[r];if(n)for(var u in n)n.hasOwnProperty(u)&&n[u]&&("[object Object]"!==Object.prototype.toString.call(n[u])?o[u]=n[u]:o[u]=e(o[u],n[u]))}return o},o={full:t.DateTime.DATETIME_FULL,fulls:t.DateTime.DATETIME_FULL_WITH_SECONDS,huge:t.DateTime.DATETIME_HUGE,huges:t.DateTime.DATETIME_HUGE_WITH_SECONDS,med:t.DateTime.DATETIME_MED,meds:t.DateTime.DATETIME_MED_WITH_SECONDS,short:t.DateTime.DATETIME_SHORT,shorts:t.DateTime.DATETIME_SHORT_WITH_SECONDS,date_full:t.DateTime.DATE_FULL,date_huge:t.DateTime.DATE_HUGE,date_med:t.DateTime.DATE_MED,date_medd:t.DateTime.DATE_MED_WITH_WEEKDAY,date_short:t.DateTime.DATE_SHORT,time24:t.DateTime.TIME_24_SIMPLE,time24longoffset:t.DateTime.TIME_24_WITH_LONG_OFFSET,time24s:t.DateTime.TIME_24_WITH_SECONDS,time:t.DateTime.TIME_SIMPLE,times:t.DateTime.TIME_WITH_SECONDS},r={relative:{format:"relative"},server:{zone:"utc",format:"iso"},client:{zone:"local",format:"med"},inputdate:{zone:"client",format:"yyyy-MM-dd"}};Object.keys(o).forEach((function(t){r[t]={format:o[t]}}));var a={templates:{},input:{zone:"utc",format:"iso"},output:{zone:"local",format:{year:"numeric",month:"long",day:"numeric"},lang:null,relative:{round:!0,unit:null}},parse:!1};function n(e,o){if("object"!=typeof o.input)throw"`input` is not an object, but: "+o.input;if("object"!=typeof o.output)throw"`output` is not an object, but: "+o.output;var r=function(e,o,r){if(!e)return"never";var a=e,n=o,u=r;switch(n.toLowerCase()){case"sql":return t.DateTime.fromSQL(a,{zone:u});case"iso":return t.DateTime.fromISO(a,{zone:u});case"http":return t.DateTime.fromHTTP(a,{zone:u});case"jsdate":return t.DateTime.fromJSDate(a,{zone:u});case"rfc2822":return t.DateTime.fromRFC2822(a,{zone:u});case"millis":return t.DateTime.fromMillis(a,{zone:u});case"seconds":case"unix":return t.DateTime.fromSeconds(a,{zone:u});default:return t.DateTime.fromFormat(a,n,{zone:u})}}(e,o.input.format,o.input.zone);if(0==r.isValid)throw r.invalidReason;var a=e,n=o.output.format,u=o.output.zone,i=function(t){return t&&"locale"!=t&&"local"!=t?t:null}(o.output.lang?o.output.lang:null);if("never"==r)return null;if(o.parse&&(r=o.parse.call(r)),r="locale"!=u&&"local"!=u?r.setZone(u):r.setZone("local"),"object"==typeof n)return r.setLocale(i).toLocaleString(n);switch(n.toLowerCase()){case"relative":return r.setLocale(i).toRelative(o.output.relative);case"sql":return r.toSQL(a);case"iso":return r.toISO(a);case"http":return r.toHTTP(a);case"jsdate":return r.toJSDate(a);case"rfc":case"rfc2822":return r.toRFC2822(a);case"millis":return r.toMillis(a);case"unix":case"seconds":return r.toSeconds(a);default:return r.toFormat(n)}}var u={vueluxon:function(t){return function(o,u,i){if(o&&"object"==typeof o){if(u=o,!o.value)throw"The first parameter should be a string, or the object should contain a `value` property";o=o.value}return"string"==typeof u&&(u={output:{format:u}}),n(o,function(t){if("object"!=typeof t)throw"formatSettings.js: `settings` is not an object";var o=e(r,t.templates);if("string"==typeof t.input){var n=t.input.toLowerCase();o[n]?t.input=o[n]:t.input={format:t.input}}if("string"==typeof t.output){var u=t.output.toLowerCase();o[u]?t.output=o[u]:t.output={format:t.output}}t.relative&&(t.output.relative=t.relative),t.local&&(t.output.local=t.local);var i=function(t){if("object"==typeof t)return t;var e=t.toLowerCase();return o[e]?o[e].format:t},l=function(t){var e=t.toLowerCase();return o[e]?o[e].zone:t};return(t=e(a,t)).input.format=i(t.input.format),t.output.format=i(t.output.format),t.input.zone=l(t.input.zone),t.output.zone=l(t.output.zone),t.output.relative=function(t){if("object"==typeof t)return t;var e=t.toLowerCase();return o[e]?o[e].relative:t}(t.output.relative),t}(e(t,u,i)))}},install:function(t,e){var o=this.vueluxon(e),r=e&&e.methodName?e.methodName:"$luxon";t.prototype[r]=o,t.filter("luxon",(function(){return"string"==typeof arguments[1]?o(arguments[0],arguments[2],{output:{format:arguments[1]}}):o(arguments[0],arguments[1])}));t.filter("luxonRelative",(function(){return o(arguments[0],arguments[2],{output:{format:"relative",relative:arguments[1]}})}))}};module.exports=u;
